{
    "docs": [
        {
            "location": "/",
            "text": "\u00bfQu\u00e9 es Zabbix?\n\n\nZabbix\n es un software de monitorizaci\u00f3n de equipos en red, basado en \nsoftware abierto\n recaba informaci\u00f3n de los sistemas controlados por un agente y muestra la informaci\u00f3n centralizada en un frontend Web en el servidor.\n\n\nCaracter\u00edsticas principales\n\n\nZabbix ofrece una soluci\u00f3n \nflexible\n que permite monitorizar diferentes infraestructuras y elementos presentes en una red. El estudio de los \ncasos de uso\n y sus aplicaciones practicas que describen en la Web oficial dan una idea de su capacidad de adaptaci\u00f3n. \nUno de los casos m\u00e1s comunes es evidentemente monitorizar servidores y servicios cr\u00edticos\n de una empresa, este caso ser\u00e1 el m\u00e1s estudiado en este manual que lees.\n\n\nUno de los fuertes de Zabbix es una interface Web del servidor muy cuidada donde se presenta la informaci\u00f3n con diferentes vistas y formatos, cuadro de mando central, gr\u00e1ficos, mapas de red, reportes.\n\n\n\n\nPara recolectar los datos necesarios en el servidor existen agentes que funcionan como clientes para diferentes sistemas operativos, \nel agente se instala como servicio o demonio (se ejeucta en segundo plano), es muy liviano y consume muy pocos recursos, la configuraci\u00f3n del agente se realiza en un fichero de texto plano lo que hace que el agente sea altamente portable\n. El agente ya contempla una serie de checks o items a monitorizar como por ejemplo: interface de red, CPU, memoria, disco, sistema, logs... (\nver lista completa en la Web oficial\n). Pero adem\u00e1s de eso lo que lo hace muy flexible es que \nel usuario puede definir par\u00e1metros personalizados\n.\n\n\nCuando instalamos el servidor viene \nprecargado con plantillas (templates) para los tipos de sistemas operativos del agente m\u00e1s t\u00edpicos\n, MS Windows server, Win7, m\u00e1quinas virtualizadas, etc.. Las plantillas contienen items o elementos que podemos modificar o a\u00f1adir nuevos para monitorizar nuevos par\u00e1metros no contemplados.",
            "title": "Inicio"
        },
        {
            "location": "/#que-es-zabbix",
            "text": "Zabbix  es un software de monitorizaci\u00f3n de equipos en red, basado en  software abierto  recaba informaci\u00f3n de los sistemas controlados por un agente y muestra la informaci\u00f3n centralizada en un frontend Web en el servidor.",
            "title": "\u00bfQu\u00e9 es Zabbix?"
        },
        {
            "location": "/#caracteristicas-principales",
            "text": "Zabbix ofrece una soluci\u00f3n  flexible  que permite monitorizar diferentes infraestructuras y elementos presentes en una red. El estudio de los  casos de uso  y sus aplicaciones practicas que describen en la Web oficial dan una idea de su capacidad de adaptaci\u00f3n.  Uno de los casos m\u00e1s comunes es evidentemente monitorizar servidores y servicios cr\u00edticos  de una empresa, este caso ser\u00e1 el m\u00e1s estudiado en este manual que lees.  Uno de los fuertes de Zabbix es una interface Web del servidor muy cuidada donde se presenta la informaci\u00f3n con diferentes vistas y formatos, cuadro de mando central, gr\u00e1ficos, mapas de red, reportes.   Para recolectar los datos necesarios en el servidor existen agentes que funcionan como clientes para diferentes sistemas operativos,  el agente se instala como servicio o demonio (se ejeucta en segundo plano), es muy liviano y consume muy pocos recursos, la configuraci\u00f3n del agente se realiza en un fichero de texto plano lo que hace que el agente sea altamente portable . El agente ya contempla una serie de checks o items a monitorizar como por ejemplo: interface de red, CPU, memoria, disco, sistema, logs... ( ver lista completa en la Web oficial ). Pero adem\u00e1s de eso lo que lo hace muy flexible es que  el usuario puede definir par\u00e1metros personalizados .  Cuando instalamos el servidor viene  precargado con plantillas (templates) para los tipos de sistemas operativos del agente m\u00e1s t\u00edpicos , MS Windows server, Win7, m\u00e1quinas virtualizadas, etc.. Las plantillas contienen items o elementos que podemos modificar o a\u00f1adir nuevos para monitorizar nuevos par\u00e1metros no contemplados.",
            "title": "Caracter\u00edsticas principales"
        },
        {
            "location": "/general/descripcion_general/",
            "text": "",
            "title": "Descripci\u00f3n general"
        },
        {
            "location": "/server/instalacion_ubuntu_vbox/",
            "text": "M\u00e1quina Virtual Virtual Box con Ubuntu\n\n\nLa forma m\u00e1s f\u00e1cil y r\u00e1pida de empezar es crear un servidor de Zabbix virtualizado, \ndescargamos\n una imagen ya creada para VBox de \nUbuntu 16.04.3 LTS (Xenial)\n de la Web de \nOSBoxes.org\n. \n\n\nYo estoy usando Debian 9  \u201cStretch\u201d como anfitrion y VBox Version 5.1.32.\n\n\n\n\nDatos de la imagen:\n\n\n\n\nUbuntu 16.04.3 Xenial.\n\n\nVirtualBox (VDI) 32bit.\n\n\nSHA256: 0d94f64ffe926bf7fa995fcc7bc66897ad4cfcc86532fafcb927dafcf69d76e5\n\n\nDescarga\n.\n\n\nUsername: osboxes\n\n\nPassword: osboxes.org\n\n\nVB Guest Additions & VMware Tools: Not Installed\n\n\nVMware Compatibility: Version 10+\n\n\n\n\nLa imagen para VBox con extensi\u00f3n '.vdi' requiere que creemos la m\u00e1quina Linux previamente en VBox y seleccionar el archivo 'Ubuntu 16.04.3 (32bit).vdi' como disco duro.\n\n\nEn pocos minutos est\u00e1 corriendo mi m\u00e1quina virtual que albergara el servidor Zabbix.\n\n\n\n\nAntes de empezar instalar servidor OpenSSH:\n\n\n# apt-get install openssh-server\n\n\n\n\nInstalaci\u00f3n Zabbix con paquetes\n\n\nExisten varias formas de instalaci\u00f3n pero la m\u00e1s recomendada es usar los paquetes que existen para cada tipo de distribuci\u00f3n Linux: Debian, RedHat o Ubuntu.\n\n\nExiste un \nrepositorio oficial\n con los paquetes ordenados por distribuci\u00f3n y todas las versiones disponibles de Zabbix.\n\n\n\n\nPara Ubuntu los comandos que debemos introducir son los siguientes:\n\n\n# wget http://repo.zabbix.com/zabbix/3.2/ubuntu/pool/main/z/zabbix-release/zabbix-release_3.2-1+xenial_all.deb\n# dpkg -i zabbix-release_3.2-1+xenial_all.deb\n# apt-get update\n\n\n\n\nAhora ya estamos preparados para instalar el servidor Zabbix usando MySQL o PostreSQL, yo usare MySQL omo gestor de base de datos. \n\n\n# apt-get install zabbix-server-mysql zabbix-frontend-php\n\n\n\n\nCreando la base de datos\n\n\n# mysql -uroot -posboxes.org\nMariaBD[(none)]> create database zabbix character set utf8 collate utf8_bin;\nMariaBD[(none)]> grant all privileges on zabbix.* to zabbix@localhost identified by 'osboxes.org';\nMariaBD[(none)]> quit\n# zcat /usr/share/doc/zabbix-server-mysql/create.sql.gz | mysql -uzabbix -p zabbix-release\n\n\n\n\n\n\nAlgunos comandos en MySQL:\n\n\n# mysql -uroot -posboxes.org\nMariaBD[(none)]> show databases;\nMariaBD[(none)]> use zabbix;\nMariaBD[(none)]> show tables;\n\n\n\n\nConfigurando el demonio servidor Zabbix\n\n\nEditamos el siguiente fichero y modificamos los par\u00e1metros de configuraci\u00f3n de acceso a la BD MySQL.\n\n\n# nano /etc/zabbix/zabbix_server.conf\nDBHost=localhost\nDBName=zabbix\nDBUser=zabbix\nDBPassword=osboxes.org\n\n\n\n\nArrancando el servicio\n\n\nArrancamos el servicio y configuramos para que arranque de forma autom\u00e1tica con el arranque del sistema operativo.\n\n\n# service zabbix-server start\n# service zabbix-server status\n# update-rc.d zabbix-server enable\n# service apache2 restart\n\n\n\n\nInstalaci\u00f3n frontend PHP\n\n\nAntes de comenzar con el proceso de instalaci\u00f3n es recomendable editar \n/etc/apache2/conf-enabled/zabbix.conf\n y al menos establecer la zona horaria (\nset the right timezone \n).\n\n\n\n\nAhora podemos acceder al frontend de Zabbix en la URL http://\n/zabbix:\n\n\n\n\nHe instalado algunos paquetes adicionales para satisfacer algunos requisitos del servidor:\n\n\n$ sudo apt install php7.0-bcmath\n$ sudo apt-get install php7.0-mbstring\n$ sudo apt-get install php7.0-xml\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nAdvertencia: El usuario es \u201cAdmin\u201d con clave \u201czabbix\u201d.\n\n\n\n\nEnlaces externos\n\n\n\n\nOficial \nZabbix Documentation 3.2\n.",
            "title": "Instalaci\u00f3n - Ubuntu 16.04 - VBox"
        },
        {
            "location": "/server/instalacion_ubuntu_vbox/#maquina-virtual-virtual-box-con-ubuntu",
            "text": "La forma m\u00e1s f\u00e1cil y r\u00e1pida de empezar es crear un servidor de Zabbix virtualizado,  descargamos  una imagen ya creada para VBox de  Ubuntu 16.04.3 LTS (Xenial)  de la Web de  OSBoxes.org .   Yo estoy usando Debian 9  \u201cStretch\u201d como anfitrion y VBox Version 5.1.32.   Datos de la imagen:   Ubuntu 16.04.3 Xenial.  VirtualBox (VDI) 32bit.  SHA256: 0d94f64ffe926bf7fa995fcc7bc66897ad4cfcc86532fafcb927dafcf69d76e5  Descarga .  Username: osboxes  Password: osboxes.org  VB Guest Additions & VMware Tools: Not Installed  VMware Compatibility: Version 10+   La imagen para VBox con extensi\u00f3n '.vdi' requiere que creemos la m\u00e1quina Linux previamente en VBox y seleccionar el archivo 'Ubuntu 16.04.3 (32bit).vdi' como disco duro.  En pocos minutos est\u00e1 corriendo mi m\u00e1quina virtual que albergara el servidor Zabbix.   Antes de empezar instalar servidor OpenSSH:  # apt-get install openssh-server",
            "title": "M\u00e1quina Virtual Virtual Box con Ubuntu"
        },
        {
            "location": "/server/instalacion_ubuntu_vbox/#instalacion-zabbix-con-paquetes",
            "text": "Existen varias formas de instalaci\u00f3n pero la m\u00e1s recomendada es usar los paquetes que existen para cada tipo de distribuci\u00f3n Linux: Debian, RedHat o Ubuntu.  Existe un  repositorio oficial  con los paquetes ordenados por distribuci\u00f3n y todas las versiones disponibles de Zabbix.   Para Ubuntu los comandos que debemos introducir son los siguientes:  # wget http://repo.zabbix.com/zabbix/3.2/ubuntu/pool/main/z/zabbix-release/zabbix-release_3.2-1+xenial_all.deb\n# dpkg -i zabbix-release_3.2-1+xenial_all.deb\n# apt-get update  Ahora ya estamos preparados para instalar el servidor Zabbix usando MySQL o PostreSQL, yo usare MySQL omo gestor de base de datos.   # apt-get install zabbix-server-mysql zabbix-frontend-php  Creando la base de datos  # mysql -uroot -posboxes.org\nMariaBD[(none)]> create database zabbix character set utf8 collate utf8_bin;\nMariaBD[(none)]> grant all privileges on zabbix.* to zabbix@localhost identified by 'osboxes.org';\nMariaBD[(none)]> quit\n# zcat /usr/share/doc/zabbix-server-mysql/create.sql.gz | mysql -uzabbix -p zabbix-release   Algunos comandos en MySQL:  # mysql -uroot -posboxes.org\nMariaBD[(none)]> show databases;\nMariaBD[(none)]> use zabbix;\nMariaBD[(none)]> show tables;",
            "title": "Instalaci\u00f3n Zabbix con paquetes"
        },
        {
            "location": "/server/instalacion_ubuntu_vbox/#configurando-el-demonio-servidor-zabbix",
            "text": "Editamos el siguiente fichero y modificamos los par\u00e1metros de configuraci\u00f3n de acceso a la BD MySQL.  # nano /etc/zabbix/zabbix_server.conf\nDBHost=localhost\nDBName=zabbix\nDBUser=zabbix\nDBPassword=osboxes.org",
            "title": "Configurando el demonio servidor Zabbix"
        },
        {
            "location": "/server/instalacion_ubuntu_vbox/#arrancando-el-servicio",
            "text": "Arrancamos el servicio y configuramos para que arranque de forma autom\u00e1tica con el arranque del sistema operativo.  # service zabbix-server start\n# service zabbix-server status\n# update-rc.d zabbix-server enable\n# service apache2 restart",
            "title": "Arrancando el servicio"
        },
        {
            "location": "/server/instalacion_ubuntu_vbox/#instalacion-frontend-php",
            "text": "Antes de comenzar con el proceso de instalaci\u00f3n es recomendable editar  /etc/apache2/conf-enabled/zabbix.conf  y al menos establecer la zona horaria ( set the right timezone  ).   Ahora podemos acceder al frontend de Zabbix en la URL http:// /zabbix:   He instalado algunos paquetes adicionales para satisfacer algunos requisitos del servidor:  $ sudo apt install php7.0-bcmath\n$ sudo apt-get install php7.0-mbstring\n$ sudo apt-get install php7.0-xml       Advertencia: El usuario es \u201cAdmin\u201d con clave \u201czabbix\u201d.",
            "title": "Instalaci\u00f3n frontend PHP"
        },
        {
            "location": "/server/instalacion_ubuntu_vbox/#enlaces-externos",
            "text": "Oficial  Zabbix Documentation 3.2 .",
            "title": "Enlaces externos"
        },
        {
            "location": "/server/configuracion_basica_host_win7/",
            "text": "",
            "title": "Configuraci\u00f3n b\u00e1sica del primer host Win7"
        },
        {
            "location": "/agente/win7_vbox/instalacion_agente_win7_vbox/",
            "text": "Descarga agente\n\n\nVoy a virtualizar una m\u00e1quina MS Win7 (x86) en VirtualBox para configurarlo como agente Zabbix. La buena noticia es que Microsoft ofrece la descarga de sistemas operativos virtualizados (Win7,Win81 y Win10) de forma gratuita en periodo de evaluaci\u00f3n de 90 pero sin ninguna restricci\u00f3n (\nenlace\n).\n\n\n\n\nVamos a descargar un agente precompilado (el binario o ejecutable final) para MS Win i386 \nzabbix_agents_3.4.6.win.zip\n de la Web oficial de Zabbix (\nenlace\n)  \n\n\n\n\nDespues de descargar y descomprimir los ficheros he creado una carpeta en el raiz 'C:\\zabbiz' y he copiado los ejecutables para win32 y el fichero de configuraci\u00f3n 'zabbix_agentd.win.conf'.\n\n\n\n\nFicheros:\n\n\n\n\nzabbix_agentd.win.conf\n: Fichero de texto plano que contiene la configuraci\u00f3n del agente y del servidor Zabbix con el que debe comunicar.\n\n\nzabbix_agentd.exe\n: Agente que podemos ejecutar de forma puntual o instalar como servicio de Win que se ejecute con el arranque del SO.\n\n\nzabbix_get.exe\n: Utilidad de l\u00ednea de comandos para obtener datos de un agente Zabbix (\nzabbix_get - Zabbix get utility\n).\n\n\nzabbix_sender.exe\n: Utilidad de l\u00ednea de comandos para mandar datos de monitorizaci\u00f3n a un servidor Zabbix (\nzabbix_sender - Zabbix sender utility\n). \n\n\n\n\nConfiguraci\u00f3n zabbix_agentd.win.conf\n\n\nPodemos ejecutar m\u00e1s de una instancia del agente Zabbix, antes de ejecutar por primera vez 'zabbix_agentd.exe' hay que configurar los par\u00e1metros m\u00ednimos en el archivo 'zabbix_agentd.win.conf' para que realize la conexi\u00f3n con el servidor.\n\n\n\n\nLogType=file\n.\n\n\nLogFile\n: Hacemos que apunte a \nLogFile=c:\\zabbix\\zabbix_agentd.log\n para poder analizar la ejecuci\u00f3n del agente, especialmente en caso de problemas.\n\n\nDebugLevel=5\n: Informaci\u00f3n detallada en los logs.\n\n\nSourceIP=192.168.221.107\n. Direcci\u00f3n IP de nuestra m\u00e1quina Win7 para conexiones salientes.\n\n\nEnableRemoteCommands=1\n. Permitir comandos remotos.\n\n\nLogRemoteCommands=1\n. Registrar comandos remotos como logs de warning.\n\n\n\n\nA continuaci\u00f3n el fichero tiene dos apartados dependiendo del comportamiento del \nagente\n.\n\n\n\n\nAgente pasivo '\npolling\n': El servidor Zabbix es quien interroga al agente, el agente procesa la petici\u00f3n y retorna el valor.\n\n\n\n\nServer=192.168.221.102\n: Nombre del host o direcci\u00f3n de red del servidor.\n\n\nListenPort=10050\n: Puerto local del agente donde \"escuchar\u00e1\" las conexiones entrantes del servidor.\n\n\nListenIP=192.168.221.107\n: IP local del agente.\n\n\n\n\nAgente activo '\ntrapping\n': El agente solicita al servidor una lista de checks activos. El agente remite esta informaci\u00f3n de forma peri\u00f3dica al servidor.  \n\n\n\n\nServerActive=192.168.221.102\n.\n\n\nHostname=IE8WIN7\n: Nombre de host del agente (\ndebe coincidir con el nombre configurado en el servidor\n).\n\n\n\n\nPrimera ejecuci\u00f3n\n\n\nCon la configuraci\u00f3n b\u00e1sica realizada es el momento de ejecutar el agente por l\u00ednea de comandos para probarlo:\n\n\nc:\\zabbix>zabbix_agentd.exe -c c:\\zabbix\\zabbix_agentd.win.conf -f\n\n\n\n\nPara poder visualizar el agente debemos a\u00f1adirlo como host en el frontend Web del servidor Zabbix\n.\n\n\nEnlaces externos\n\n\n\n\n4 Zabbix agent (Windows)\n: he parameters supported in a Zabbix agent (Windows) configuration file.",
            "title": "Instalaci\u00f3n: Agente Win7 en VBox"
        },
        {
            "location": "/agente/win7_vbox/instalacion_agente_win7_vbox/#descarga-agente",
            "text": "Voy a virtualizar una m\u00e1quina MS Win7 (x86) en VirtualBox para configurarlo como agente Zabbix. La buena noticia es que Microsoft ofrece la descarga de sistemas operativos virtualizados (Win7,Win81 y Win10) de forma gratuita en periodo de evaluaci\u00f3n de 90 pero sin ninguna restricci\u00f3n ( enlace ).   Vamos a descargar un agente precompilado (el binario o ejecutable final) para MS Win i386  zabbix_agents_3.4.6.win.zip  de la Web oficial de Zabbix ( enlace )     Despues de descargar y descomprimir los ficheros he creado una carpeta en el raiz 'C:\\zabbiz' y he copiado los ejecutables para win32 y el fichero de configuraci\u00f3n 'zabbix_agentd.win.conf'.   Ficheros:   zabbix_agentd.win.conf : Fichero de texto plano que contiene la configuraci\u00f3n del agente y del servidor Zabbix con el que debe comunicar.  zabbix_agentd.exe : Agente que podemos ejecutar de forma puntual o instalar como servicio de Win que se ejecute con el arranque del SO.  zabbix_get.exe : Utilidad de l\u00ednea de comandos para obtener datos de un agente Zabbix ( zabbix_get - Zabbix get utility ).  zabbix_sender.exe : Utilidad de l\u00ednea de comandos para mandar datos de monitorizaci\u00f3n a un servidor Zabbix ( zabbix_sender - Zabbix sender utility ).",
            "title": "Descarga agente"
        },
        {
            "location": "/agente/win7_vbox/instalacion_agente_win7_vbox/#configuracion-zabbix_agentdwinconf",
            "text": "Podemos ejecutar m\u00e1s de una instancia del agente Zabbix, antes de ejecutar por primera vez 'zabbix_agentd.exe' hay que configurar los par\u00e1metros m\u00ednimos en el archivo 'zabbix_agentd.win.conf' para que realize la conexi\u00f3n con el servidor.   LogType=file .  LogFile : Hacemos que apunte a  LogFile=c:\\zabbix\\zabbix_agentd.log  para poder analizar la ejecuci\u00f3n del agente, especialmente en caso de problemas.  DebugLevel=5 : Informaci\u00f3n detallada en los logs.  SourceIP=192.168.221.107 . Direcci\u00f3n IP de nuestra m\u00e1quina Win7 para conexiones salientes.  EnableRemoteCommands=1 . Permitir comandos remotos.  LogRemoteCommands=1 . Registrar comandos remotos como logs de warning.   A continuaci\u00f3n el fichero tiene dos apartados dependiendo del comportamiento del  agente .   Agente pasivo ' polling ': El servidor Zabbix es quien interroga al agente, el agente procesa la petici\u00f3n y retorna el valor.   Server=192.168.221.102 : Nombre del host o direcci\u00f3n de red del servidor.  ListenPort=10050 : Puerto local del agente donde \"escuchar\u00e1\" las conexiones entrantes del servidor.  ListenIP=192.168.221.107 : IP local del agente.   Agente activo ' trapping ': El agente solicita al servidor una lista de checks activos. El agente remite esta informaci\u00f3n de forma peri\u00f3dica al servidor.     ServerActive=192.168.221.102 .  Hostname=IE8WIN7 : Nombre de host del agente ( debe coincidir con el nombre configurado en el servidor ).",
            "title": "Configuraci\u00f3n zabbix_agentd.win.conf"
        },
        {
            "location": "/agente/win7_vbox/instalacion_agente_win7_vbox/#primera-ejecucion",
            "text": "Con la configuraci\u00f3n b\u00e1sica realizada es el momento de ejecutar el agente por l\u00ednea de comandos para probarlo:  c:\\zabbix>zabbix_agentd.exe -c c:\\zabbix\\zabbix_agentd.win.conf -f  Para poder visualizar el agente debemos a\u00f1adirlo como host en el frontend Web del servidor Zabbix .",
            "title": "Primera ejecuci\u00f3n"
        },
        {
            "location": "/agente/win7_vbox/instalacion_agente_win7_vbox/#enlaces-externos",
            "text": "4 Zabbix agent (Windows) : he parameters supported in a Zabbix agent (Windows) configuration file.",
            "title": "Enlaces externos"
        }
    ]
}